{
  "name": "storage/stored_files/stored_files_metadata/is_accessible_by_directory_path",
  "interactions": [
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:3000/auth/register",
        "headers": {
          "content-type": "application/json; charset=utf-8"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"email\":\"user-1@nhost.io\",\"password\":\"password-1\",\"user_data\":{},\"cookie\":false}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "connection": "keep-alive",
          "surrogate-control": "no-store",
          "set-cookie": "refresh_token=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT,permission_variables=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "x-ratelimit-reset": "1615999762",
          "date": "Wed, 17 Mar 2021 16:49:21 GMT",
          "x-ratelimit-limit": "1000",
          "vary": "Origin",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "x-ratelimit-remaining": "989",
          "content-type": "application/json; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "access-control-allow-credentials": "true",
          "keep-alive": "timeout=5",
          "content-length": "527",
          "x-download-options": "noopen",
          "etag": "W/\"20f-tNAY2xiKl0OVFby3EscrRHrcN1w\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"jwt_token\":\"eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLXVzZXItaWQiOiJiZDczYjQxYi04Njg1LTQ2ZGItYTgyNS1mZjM5OWRhZDMwNmEiLCJ4LWhhc3VyYS1hbGxvd2VkLXJvbGVzIjpbInVzZXIiXSwieC1oYXN1cmEtZGVmYXVsdC1yb2xlIjoidXNlciJ9LCJpYXQiOjE2MTU5OTk3NjEsImV4cCI6MTYxNjAwMDY2MX0.p7T9tJ7dV1G7_F8mjEwmb06y9667DwG3_IP2fYLPPls\",\"jwt_expires_in\":900000,\"user\":{\"id\":\"bd73b41b-8685-46db-a825-ff399dad306a\",\"display_name\":\"user-1@nhost.io\",\"email\":\"user-1@nhost.io\"},\"refresh_token\":\"ee8a9ff2-2ed5-47f4-a604-75084a4385c3\"}"
        }
      }
    },
    {
      "request": {
        "method": "get",
        "uri": "http://localhost:3000/storage/m/user/bd73b41b-8685-46db-a825-ff399dad306a/",
        "headers": {
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLXVzZXItaWQiOiJiZDczYjQxYi04Njg1LTQ2ZGItYTgyNS1mZjM5OWRhZDMwNmEiLCJ4LWhhc3VyYS1hbGxvd2VkLXJvbGVzIjpbInVzZXIiXSwieC1oYXN1cmEtZGVmYXVsdC1yb2xlIjoidXNlciJ9LCJpYXQiOjE2MTU5OTk3NjEsImV4cCI6MTYxNjAwMDY2MX0.p7T9tJ7dV1G7_F8mjEwmb06y9667DwG3_IP2fYLPPls"
        },
        "body": null
      },
      "response": {
        "status": 200,
        "headers": {
          "connection": "keep-alive",
          "x-dns-prefetch-control": "off",
          "x-ratelimit-reset": "1615999763",
          "date": "Wed, 17 Mar 2021 16:49:21 GMT",
          "x-ratelimit-limit": "1000",
          "vary": "Origin",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "x-ratelimit-remaining": "999",
          "content-type": "application/json; charset=utf-8",
          "x-xss-protection": "1; mode=block",
          "access-control-allow-credentials": "true",
          "keep-alive": "timeout=5",
          "content-length": "2",
          "x-download-options": "noopen",
          "etag": "W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"",
          "x-content-type-options": "nosniff"
        },
        "body": {
          "encoding": "utf-8",
          "string": "[]"
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:3000/storage/o/user/bd73b41b-8685-46db-a825-ff399dad306a/styles.css",
        "headers": {
          "Content-Type": "multipart/form-data; boundary=dart-http-boundary-IY7Z9MTiped2WsMCslpQfODP-Khx-cbZHBcFOEGu-GngKywbIlt",
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLXVzZXItaWQiOiJiZDczYjQxYi04Njg1LTQ2ZGItYTgyNS1mZjM5OWRhZDMwNmEiLCJ4LWhhc3VyYS1hbGxvd2VkLXJvbGVzIjpbInVzZXIiXSwieC1oYXN1cmEtZGVmYXVsdC1yb2xlIjoidXNlciJ9LCJpYXQiOjE2MTU5OTk3NjEsImV4cCI6MTYxNjAwMDY2MX0.p7T9tJ7dV1G7_F8mjEwmb06y9667DwG3_IP2fYLPPls"
        },
        "body": {
          "encoding": "iso-8859-1",
          "string": "--dart-http-boundary-IY7Z9MTiped2WsMCslpQfODP-Khx-cbZHBcFOEGu-GngKywbIlt\r\ncontent-type: text/css; charset=utf-8\r\ncontent-disposition: form-data; name=\"file\"; filename=\"user/bd73b41b-8685-46db-a825-ff399dad306a/styles.css\"\r\n\r\n* { margin: 0; }\r\n--dart-http-boundary-IY7Z9MTiped2WsMCslpQfODP-Khx-cbZHBcFOEGu-GngKywbIlt--\r\n"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "connection": "keep-alive",
          "x-dns-prefetch-control": "off",
          "x-ratelimit-reset": "1615999763",
          "date": "Wed, 17 Mar 2021 16:49:21 GMT",
          "x-ratelimit-limit": "1000",
          "vary": "Origin",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "x-ratelimit-remaining": "998",
          "content-type": "application/json; charset=utf-8",
          "x-xss-protection": "1; mode=block",
          "access-control-allow-credentials": "true",
          "keep-alive": "timeout=5",
          "content-length": "277",
          "x-download-options": "noopen",
          "etag": "W/\"115-1Gj5E9c0JekIn0vBGn3l8FKkbQk\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"key\":\"user/bd73b41b-8685-46db-a825-ff399dad306a/styles.css\",\"AcceptRanges\":\"bytes\",\"LastModified\":\"2021-03-17T16:49:21.000Z\",\"ContentLength\":16,\"ETag\":\"\\\"e314aa05c45d4f96f3a866be7a756ac6\\\"\",\"ContentType\":\"text/css\",\"Metadata\":{\"token\":\"954289ad-b9bd-4ca4-aa73-0f0b833bf80b\"}}"
        }
      }
    },
    {
      "request": {
        "method": "get",
        "uri": "http://localhost:3000/storage/m/user/bd73b41b-8685-46db-a825-ff399dad306a/",
        "headers": {
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLXVzZXItaWQiOiJiZDczYjQxYi04Njg1LTQ2ZGItYTgyNS1mZjM5OWRhZDMwNmEiLCJ4LWhhc3VyYS1hbGxvd2VkLXJvbGVzIjpbInVzZXIiXSwieC1oYXN1cmEtZGVmYXVsdC1yb2xlIjoidXNlciJ9LCJpYXQiOjE2MTU5OTk3NjEsImV4cCI6MTYxNjAwMDY2MX0.p7T9tJ7dV1G7_F8mjEwmb06y9667DwG3_IP2fYLPPls"
        },
        "body": null
      },
      "response": {
        "status": 200,
        "headers": {
          "connection": "keep-alive",
          "x-dns-prefetch-control": "off",
          "x-ratelimit-reset": "1615999763",
          "date": "Wed, 17 Mar 2021 16:49:21 GMT",
          "x-ratelimit-limit": "1000",
          "vary": "Origin",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "x-ratelimit-remaining": "997",
          "content-type": "application/json; charset=utf-8",
          "x-xss-protection": "1; mode=block",
          "access-control-allow-credentials": "true",
          "keep-alive": "timeout=5",
          "content-length": "279",
          "x-download-options": "noopen",
          "etag": "W/\"117-Ojlppx03L/IbdWp6kspZioc8/DU\"",
          "x-content-type-options": "nosniff"
        },
        "body": {
          "encoding": "utf-8",
          "string": "[{\"Key\":\"user/bd73b41b-8685-46db-a825-ff399dad306a/styles.css\",\"AcceptRanges\":\"bytes\",\"LastModified\":\"2021-03-17T16:49:21.000Z\",\"ContentLength\":16,\"ETag\":\"\\\"e314aa05c45d4f96f3a866be7a756ac6\\\"\",\"ContentType\":\"text/css\",\"Metadata\":{\"token\":\"954289ad-b9bd-4ca4-aa73-0f0b833bf80b\"}}]"
        }
      }
    }
  ]
}